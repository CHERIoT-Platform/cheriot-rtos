clang++ -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DCHERIOT_AVOID_CAPRELOCS -DSCHEDULER_ACCOUNTING=false -DDEBUG_SCHEDULER=false -DCHERIOT_INTERRUPT_CONFIGURATION={1,2,false} -DCONFIG_THREADS_NUM=1 -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -cheri-compartment=sched -std=c++2a -finput-charset=UTF-8 -o scheduler/main.o -c -x c++ sdk/core/scheduler/main.cc
clang++ -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -cheri-compartment=hello -std=c++2a -finput-charset=UTF-8 -o hello.o -c -x c++ examples/01.hello_world/hello.cc
clang -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DCHERIOT_AVOID_CAPRELOCS -DDEBUG_LOADER=false -DNDEBUG -DCHERIOT_LOADER_STACK_SIZE=1024 -DCHERIOT_LOADER_TRUSTED_STACK_SIZE=192 -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -fvisibility=hidden -std=c2x -finput-charset=UTF-8 -o loader/boot-s.o -c -x assembler-with-cpp sdk/core/loader/boot.S
clang++ -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DCHERIOT_AVOID_CAPRELOCS -DDEBUG_LOADER=false -DNDEBUG -DCHERIOT_LOADER_STACK_SIZE=1024 -DCHERIOT_LOADER_TRUSTED_STACK_SIZE=192 -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -fvisibility=hidden -O1 -fvisibility-inlines-hidden -std=c++2a -finput-charset=UTF-8 -o loader/boot-c.o -c -x c++ sdk/core/loader/boot.cc
clang -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DNDEBUG -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -fvisibility=hidden -std=c2x -finput-charset=UTF-8 -o switcher/entry.o -c -x assembler-with-cpp sdk/core/switcher/entry.S
clang++ -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DNDEBUG -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -fvisibility=hidden -fvisibility-inlines-hidden -std=c++2a -finput-charset=UTF-8 -o lib/atomic1/atomic1.o -c -x c++ sdk/lib/atomic/atomic1.cc
clang++ -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DNDEBUG -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -fvisibility=hidden -fvisibility-inlines-hidden -std=c++2a -finput-charset=UTF-8 -o lib/atomic4/atomic4.o -c -x c++ sdk/lib/atomic/atomic4.cc
clang++ -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DNDEBUG -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -fvisibility=hidden -fvisibility-inlines-hidden -std=c++2a -finput-charset=UTF-8 -o lib/locks/locks.o -c -x c++ sdk/lib/locks/locks.cc
clang++ -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DNDEBUG -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -fvisibility=hidden -fvisibility-inlines-hidden -std=c++2a -finput-charset=UTF-8 -o lib/locks/semaphore.o -c -x c++ sdk/lib/locks/semaphore.cc
clang -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DNDEBUG -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -fvisibility=hidden -std=c2x -finput-charset=UTF-8 -o lib/crt/cz.o -c -x c sdk/lib/crt/cz.c
clang -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -fvisibility=hidden -std=c2x -finput-charset=UTF-8 -o lib/freestanding/memcmp.o -c -x c sdk/lib/freestanding/memcmp.c
clang -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -fvisibility=hidden -std=c2x -finput-charset=UTF-8 -o lib/freestanding/memcpy.o -c -x c sdk/lib/freestanding/memcpy.c
clang -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -fvisibility=hidden -std=c2x -finput-charset=UTF-8 -o lib/freestanding/memset.o -c -x c sdk/lib/freestanding/memset.c
clang++ -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DCHERIOT_AVOID_CAPRELOCS -DDEBUG_ALLOCATOR=false -DNDEBUG -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -cheri-compartment=alloc -fvisibility=hidden -fvisibility-inlines-hidden -std=c++2a -finput-charset=UTF-8 -o allocator/main.o -c -x c++ sdk/core/allocator/main.cc
clang -Isdk/include -Isdk/include/../include/platform/generic-riscv -Isdk/include/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DNDEBUG -DDEBUG_TOKEN_LIBRARY=false -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -nostdinc -Oz -g -Werror -fvisibility=hidden -std=c2x -finput-charset=UTF-8 -o token_library/token_unseal.o -c -x assembler-with-cpp sdk/core/token_library/token_unseal.S

ld.lld --script=sdk/privileged-compartment.ldscript --compartment --relax -o examples/01.hello_world/scheduler.compartment examples/01.hello_world/scheduler/main.o
ld.lld --script=sdk/compartment.ldscript --compartment --relax -o examples/01.hello_world/hello.compartment examples/01.hello_world/hello.o
ld.lld --script=sdk/library.ldscript --compartment --relax -o examples/01.hello_world/atomic1.library examples/01.hello_world/lib/atomic1/atomic1.o
ld.lld --script=sdk/library.ldscript --compartment --relax -o examples/01.hello_world/atomic4.library examples/01.hello_world/lib/atomic4/atomic4.o
ld.lld --script=sdk/library.ldscript --compartment --relax -o examples/01.hello_world/locks.library examples/01.hello_world/lib/locks/locks.o examples/01.hello_world/lib/locks/semaphore.o
ld.lld --script=sdk/library.ldscript --compartment --relax -o examples/01.hello_world/crt.library examples/01.hello_world/lib/crt/cz.o
ld.lld --script=sdk/library.ldscript --compartment --relax -o examples/01.hello_world/freestanding.library examples/01.hello_world/lib/freestanding/memcmp.o examples/01.hello_world/lib/freestanding/memcpy.o examples/01.hello_world/lib/freestanding/memset.o
ld.lld --script=sdk/privileged-compartment.ldscript --compartment --relax -o examples/01.hello_world/allocator.compartment examples/01.hello_world/allocator/main.o
ld.lld --script=sdk/privileged-compartment.ldscript --compartment --relax -o examples/01.hello_world/token_library.compartment examples/01.hello_world/token_library/token_unseal.o
ld.lld --script=examples/01.hello_world/firmware.ldscript --relax -o examples/01.hello_world/hello_world --compartment-report=examples/01.hello_world/hello_world.json examples/01.hello_world/hello.compartment examples/01.hello_world/loader/boot-s.o examples/01.hello_world/loader/boot-c.o examples/01.hello_world/switcher/entry.o examples/01.hello_world/atomic1.library examples/01.hello_world/atomic4.library examples/01.hello_world/locks.library examples/01.hello_world/crt.library examples/01.hello_world/freestanding.library examples/01.hello_world/allocator.compartment examples/01.hello_world/token_library.compartment examples/01.hello_world/scheduler.compartment
