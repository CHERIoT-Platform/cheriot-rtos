clang -c -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -fvisibility=hidden -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DNDEBUG -DCHERIOT_AVOID_CAPRELOCS -DCHERIOT_LOADER_STACK_SIZE=1024 -DDEBUG_LOADER=false -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DCHERIOT_LOADER_TRUSTED_STACK_SIZE=192 -o loader/boot.S.o sdk//core/loader/boot.S
clang++ -c -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -fvisibility=hidden -fvisibility-inlines-hidden -std=c++20 -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DCHERIOT_AVOID_CAPRELOCS -DCHERIOT_LOADER_STACK_SIZE=1024 -DDEBUG_LOADER=false -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DCHERIOT_LOADER_TRUSTED_STACK_SIZE=192 -DNDEBUG -O1 -o loader/boot.cc.o sdk//core/loader/boot.cc
clang -c -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -fvisibility=hidden -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DNDEBUG -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -o switcher/entry.S.o sdk//core/switcher/entry.S
clang -c -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -fvisibility=hidden -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DNDEBUG -DDEBUG_TOKEN_LIBRARY=false -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -o token_library/token_unseal.S.o sdk//core/token_library/token_unseal.S
clang -c -std=c2x -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -fvisibility=hidden -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DNDEBUG -o lib/crt/cz.c.o sdk//lib/crt/cz.c
clang++ -c -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -fvisibility=hidden -fvisibility-inlines-hidden -std=c++20 -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DNDEBUG -o lib/atomic/atomic1.cc.o sdk//lib/atomic/atomic1.cc
clang++ -c -std=c++20 -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DCHERIOT_AVOID_CAPRELOCS -DSCHEDULER_ACCOUNTING=false -DDEBUG_SCHEDULER=false -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DCHERIOT_INTERRUPT_CONFIGURATION={1,2,false}, -DCONFIG_THREADS_NUM=1 -cheri-compartment=sched -o sdk/core/scheduler/main.cc.o sdk//core/scheduler/main.cc
clang -c -std=c2x -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -o lib/freestanding/memcmp.c
clang -c -std=c2x -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -o lib/freestanding/memcpy.c.o sdk//lib/freestanding/memcpy.c
clang -c -std=c2x -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -o lib/freestanding/memset.c.o sdk//lib/freestanding/memset.c
clang++ -c -std=c++20 -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -cheri-compartment=hello -o hello.cc.o hello.cc
clang++ -c -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -fvisibility=hidden -fvisibility-inlines-hidden -std=c++20 -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DNDEBUG -o ib/atomic/atomic4.cc.o sdk//lib/atomic/atomic4.cc
clang++ -c -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -fvisibility=hidden -fvisibility-inlines-hidden -std=c++20 -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DNDEBUG -o lib/locks/locks.cc.o sdk//lib/locks/locks.cc
clang++ -c -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -fvisibility=hidden -fvisibility-inlines-hidden -std=c++20 -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -DNDEBUG -o lib/locks/semaphore.cc.o sdk//lib/locks/semaphore.cc
clang++ -c -Qunused-arguments -target riscv32-unknown-unknown -mcpu=cheriot -mabi=cheriot -mxcheri-rvc -mrelax -fshort-wchar -nostdinc -Oz -g -fomit-frame-pointer -fno-builtin -fno-exceptions -fno-asynchronous-unwind-tables -fno-c++-static-destructors -fno-rtti -Werror -Isdk/include/c++-config -Isdk/include/libc++ -Isdk/include -fvisibility=hidden -fvisibility-inlines-hidden -std=c++20 -Isdk/boards/../include/platform/generic-riscv -Isdk/boards/../include/platform/ibex -DCHERIOT_AVOID_CAPRELOCS -DDEBUG_ALLOCATOR=false -DTEMPORAL_SAFETY -DIBEX -DIBEX_SAFE -DCPU_TIMER_HZ=100000 -DTICK_RATE_HZ=10 -DSIMULATION -DCONFIG_MSHWM -DDEVICE_EXISTS_clint -DDEVICE_EXISTS_plic -DDEVICE_EXISTS_revoker -DDEVICE_EXISTS_shadow -DDEVICE_EXISTS_uart -DREVOKABLE_MEMORY_START=0x20040000 "-DCHERIOT_INTERRUPT_NAMES=RevokerInterrupt=1, " -cheri-compartment=alloc -DNDEBUG -o allocator/main.cc.o sdk//core/allocator/main.cc

ld.lld --script=sdk/privileged-compartment.ldscript --compartment --relax -o token_library.library token_library/token_unseal.S.o
ld.lld --script=sdk/library.ldscript --compartment --relax -o crt.library lib/crt/cz.c.o
ld.lld --script=sdk/library.ldscript --compartment --relax -o atomic1.library lib/atomic/atomic1.cc.o
ld.lld --script=sdk/library.ldscript --compartment --relax -o freestanding.library lib/freestanding/memcmp.c.o lib/freestanding/memcpy.c.o lib/freestanding/memset.c.o
ld.lld --script=sdk/library.ldscript --compartment --relax -o atomic4.library lib/atomic/atomic4.cc.o
ld.lld --script=sdk/compartment.ldscript --compartment --relax -o hello.compartment hello.cc.o
ld.lld --script=sdk/library.ldscript --compartment --relax -o locks.library lib/locks/locks.cc.o lib/locks/semaphore.cc.o
ld.lld --script=sdk/privileged-compartment.ldscript --compartment --relax -o hello_world.scheduler.compartment sdk/core/scheduler/main.cc.o
ld.lld --script=sdk/privileged-compartment.ldscript --compartment --relax -o cheriot.allocator.compartment allocator/main.cc.o
ld.lld --script=firmware.ldscript --relax -o hello_world --compartment-report=hello_world.json loader/boot.S.o loader/boot.cc.o switcher/entry.S.o atomic1.library atomic4.library cheriot.allocator.compartment locks.library cheriot.token_library.library crt.library freestanding.library hello.compartment hello_world.scheduler.compartment
